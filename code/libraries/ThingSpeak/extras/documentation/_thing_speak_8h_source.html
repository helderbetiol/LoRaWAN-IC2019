<!--   ThingSpeak(TM) Communication Library For Arduino, ESP8266, ESP32
  ThingSpeak ( https://www.thingspeak.com ) is an analytic IoT platform service that allows you to aggregate, visualize and 
  analyze live data streams in the cloud.
  Copyright 2017, The MathWorks, Inc.
  See the accompaning licence file for licensing information.-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<title>ThingSpeak Communication Library For Arduino and ESP8266</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0" width="100%">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ThingSpeak Communication Library</div>
   <div id="projectbrief">Enables an Arduino, ESP8266 or ESP32 to write or read data to or from ThingSpeak&trade;</div>
  </td>
  <td valign="middle" align="right" id="projectlogo"><img alt="Logo" src="ThingSpeakLogo.jpg"/></td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_339e8c1d13ed9d171a31356d80f51341.html">ThingSpeak</a></li><li class="navelem"><a class="el" href="dir_9eb8a1162b9e86c4bf1f8e762bfe83d1.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">ThingSpeak.h</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">  ThingSpeak(TM) Communication Library For Arduino, ESP8266 and ESP32</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">  Enables an Arduino or other compatible hardware to write or read data to or from ThingSpeak,</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">  an open data platform for the Internet of Things with MATLAB analytics and visualization. </span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">  ThingSpeak ( https://www.thingspeak.com ) is an analytic IoT platform service that allows you to aggregate, visualize and </span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">  analyze live data streams in the cloud.</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">  </span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">  Copyright 2017, The MathWorks, Inc.</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> </span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">  See the accompaning licence file for licensing information.</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor">#ifndef ThingSpeak_h</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor">#define ThingSpeak_h</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment">//#define PRINT_DEBUG_MESSAGES</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment">//#define PRINT_HTTP</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="preprocessor">#if defined(ARDUINO_ARCH_AVR) || defined(ARDUINO_ARCH_ESP8266) || defined(ARDUINO_ARCH_SAMD) || defined(ARDUINO_ARCH_SAM) || defined(ARDUINO_ARCH_ESP32)</span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="preprocessor">  #include &quot;Arduino.h&quot;</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="preprocessor">  #include &lt;Client.h&gt;</span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="preprocessor">  #error Only Arduino MKR1000, Yun, Uno/Mega/Due with either WiFi101 or Ethernet shield. ESP8266 and ESP32 are also supported.</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="preprocessor">#define THINGSPEAK_URL &quot;api.thingspeak.com&quot;</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="preprocessor">#define THINGSPEAK_IPADDRESS IPAddress(184,106,153,149)</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="preprocessor">#define THINGSPEAK_PORT_NUMBER 80</span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="preprocessor">#ifdef ARDUINO_ARCH_AVR</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="preprocessor">    #ifdef ARDUINO_AVR_YUN</span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="preprocessor">        #define TS_USER_AGENT &quot;tslib-arduino/1.3 (arduino yun)&quot;</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="preprocessor">    #else</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="preprocessor">        #define TS_USER_AGENT &quot;tslib-arduino/1.3 (arduino uno or mega)&quot;</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="preprocessor">    #endif</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="preprocessor">#elif defined(ARDUINO_ARCH_ESP8266)</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="preprocessor">    #define TS_USER_AGENT &quot;tslib-arduino/1.3 (ESP8266)&quot;</span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="preprocessor">#elif defined(ARDUINO_SAMD_MKR1000)</span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="preprocessor">    #define TS_USER_AGENT &quot;tslib-arduino/1.3 (arduino mkr1000)&quot;</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="preprocessor">#elif defined(ARDUINO_SAM_DUE)</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="preprocessor">    #define TS_USER_AGENT &quot;tslib-arduino/1.3 (arduino due)&quot;</span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="preprocessor">#elif defined(ARDUINO_ARCH_SAMD) || defined(ARDUINO_ARCH_SAM)</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="preprocessor">    #define TS_USER_AGENT &quot;tslib-arduino/1.3 (arduino unknown sam or samd)&quot;</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="preprocessor">#elif defined(ARDUINO_ARCH_ESP32)</span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="preprocessor">    #define TS_USER_AGENT &quot;tslib-arduino/1.3 (ESP32)&quot;</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="preprocessor">    #error &quot;Platform not supported&quot;</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="preprocessor">#define FIELDNUM_MIN 1</span></div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="preprocessor">#define FIELDNUM_MAX 8</span></div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="preprocessor">#define FIELDLENGTH_MAX 255  // Max length for a field in ThingSpeak is 255 bytes (UTF-8)</span></div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="preprocessor">#define TIMEOUT_MS_SERVERRESPONSE 5000  // Wait up to five seconds for server to respond</span></div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="preprocessor">#define OK_SUCCESS              200     // OK / Success</span></div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="preprocessor">#define ERR_BADAPIKEY           400     // Incorrect API key (or invalid ThingSpeak server address)</span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="preprocessor">#define ERR_BADURL              404     // Incorrect API key (or invalid ThingSpeak server address)</span></div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="preprocessor">#define ERR_OUT_OF_RANGE        -101    // Value is out of range or string is too long (&gt; 255 bytes)</span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="preprocessor">#define ERR_INVALID_FIELD_NUM   -201    // Invalid field number specified</span></div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="preprocessor">#define ERR_SETFIELD_NOT_CALLED -210    // setField() was not called before writeFields()</span></div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="preprocessor">#define ERR_CONNECT_FAILED      -301    // Failed to connect to ThingSpeak</span></div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="preprocessor">#define ERR_UNEXPECTED_FAIL     -302    // Unexpected failure during write to ThingSpeak</span></div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="preprocessor">#define ERR_BAD_RESPONSE        -303    // Unable to parse response</span></div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="preprocessor">#define ERR_TIMEOUT             -304    // Timeout waiting for server to respond</span></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="preprocessor">#define ERR_NOT_INSERTED        -401    // Point was not inserted (most probable cause is the rate limit of once every 15 seconds)</span></div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div><div class="line"><a name="l00111"></a><span class="lineno"><a class="line" href="class_thing_speak_class.html">  111</a></span>&#160;<span class="keyword">class </span><a class="code" href="class_thing_speak_class.html">ThingSpeakClass</a></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;{</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  <span class="keyword">public</span>:</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <a class="code" href="class_thing_speak_class.html">ThingSpeakClass</a>()</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    {</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        resetWriteFields();</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        this-&gt;lastReadStatus = OK_SUCCESS;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    };</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;</div><div class="line"><a name="l00141"></a><span class="lineno"><a class="line" href="class_thing_speak_class.html#a7375bc37b4cbf132751439f5fcafd1ba">  141</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="class_thing_speak_class.html#a7375bc37b4cbf132751439f5fcafd1ba">begin</a>(Client &amp; client, <span class="keyword">const</span> <span class="keywordtype">char</span> * customHostName, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> port)</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    {</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="preprocessor">#ifdef PRINT_DEBUG_MESSAGES</span></div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        Serial.print(<span class="stringliteral">&quot;ts::tsBegin    (client: Client URL: &quot;</span>); Serial.print(customHostName); Serial.println(<span class="stringliteral">&quot;)&quot;</span>);</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    this-&gt;setClient(&amp;client);</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    this-&gt;setServer(customHostName, port);</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    resetWriteFields();</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    this-&gt;lastReadStatus = OK_SUCCESS;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    };</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div><div class="line"><a name="l00174"></a><span class="lineno"><a class="line" href="class_thing_speak_class.html#a8bedb31c0f619bed57944aca13b423d7">  174</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="class_thing_speak_class.html#a8bedb31c0f619bed57944aca13b423d7">begin</a>(Client &amp; client, IPAddress customIP, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> port)</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    {</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="preprocessor">#ifdef PRINT_DEBUG_MESSAGES</span></div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        Serial.print(<span class="stringliteral">&quot;ts::tsBegin    (client: Client IP: &quot;</span>); Serial.print(customIP); Serial.println(<span class="stringliteral">&quot;)&quot;</span>);</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        this-&gt;setClient(&amp;client);</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        this-&gt;setServer(customIP, port);</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        resetWriteFields();</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        this-&gt;lastReadStatus = OK_SUCCESS;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    };</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;</div><div class="line"><a name="l00205"></a><span class="lineno"><a class="line" href="class_thing_speak_class.html#a92475d44f08bd87c798cff2e60491332">  205</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="class_thing_speak_class.html#a92475d44f08bd87c798cff2e60491332">begin</a>(Client &amp; client)</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    {</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;<span class="preprocessor">#ifdef PRINT_DEBUG_MESSAGES</span></div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        Serial.print(<span class="stringliteral">&quot;ts::tsBegin&quot;</span>);</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        this-&gt;setClient(&amp;client);</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        this-&gt;setServer();</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        resetWriteFields();</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        this-&gt;lastReadStatus = OK_SUCCESS;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    };</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    </div><div class="line"><a name="l00233"></a><span class="lineno"><a class="line" href="class_thing_speak_class.html#a24fa89e20ef8b3314ad8270c1f81dd2d">  233</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="class_thing_speak_class.html#a24fa89e20ef8b3314ad8270c1f81dd2d">writeField</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> channelNumber, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> field, <span class="keywordtype">int</span> value, <span class="keyword">const</span> <span class="keywordtype">char</span> * writeAPIKey)</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    {</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        <span class="keywordtype">char</span> valueString[10];  <span class="comment">// int range is -32768 to 32768, so 7 bytes including terminator, plus a little extra</span></div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        itoa(value, valueString, 10);</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="class_thing_speak_class.html#a24fa89e20ef8b3314ad8270c1f81dd2d">writeField</a>(channelNumber, field, valueString, writeAPIKey);</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    };</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;</div><div class="line"><a name="l00256"></a><span class="lineno"><a class="line" href="class_thing_speak_class.html#a3cc1f2fa986087cbc233a3f30d1dd957">  256</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="class_thing_speak_class.html#a3cc1f2fa986087cbc233a3f30d1dd957">writeField</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> channelNumber, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> field, <span class="keywordtype">long</span> value, <span class="keyword">const</span> <span class="keywordtype">char</span> * writeAPIKey)</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    {</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        <span class="keywordtype">char</span> valueString[15];  <span class="comment">// long range is -2147483648 to 2147483647, so 12 bytes including terminator</span></div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        ltoa(value, valueString, 10);</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="class_thing_speak_class.html#a24fa89e20ef8b3314ad8270c1f81dd2d">writeField</a>(channelNumber, field, valueString, writeAPIKey);</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    };</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;</div><div class="line"><a name="l00280"></a><span class="lineno"><a class="line" href="class_thing_speak_class.html#af41b9c173128a898ba83220f52fb93ba">  280</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="class_thing_speak_class.html#af41b9c173128a898ba83220f52fb93ba">writeField</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> channelNumber, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> field, <span class="keywordtype">float</span> value, <span class="keyword">const</span> <span class="keywordtype">char</span> * writeAPIKey)</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    {</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="preprocessor">        #ifdef PRINT_DEBUG_MESSAGES</span></div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;            Serial.print(<span class="stringliteral">&quot;ts::writeField (channelNumber: &quot;</span>); Serial.print(channelNumber); Serial.print(<span class="stringliteral">&quot; writeAPIKey: &quot;</span>); Serial.print(writeAPIKey); Serial.print(<span class="stringliteral">&quot; field: &quot;</span>); Serial.print(field); Serial.print(<span class="stringliteral">&quot; value: &quot;</span>); Serial.print(value,5); Serial.println(<span class="stringliteral">&quot;)&quot;</span>);</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;<span class="preprocessor">        #endif</span></div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        <span class="keywordtype">char</span> valueString[20]; <span class="comment">// range is -999999000000.00000 to 999999000000.00000, so 19 + 1 for the terminator</span></div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;        <span class="keywordtype">int</span> status = convertFloatToChar(value, valueString);</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        <span class="keywordflow">if</span>(status != OK_SUCCESS) <span class="keywordflow">return</span> status;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="class_thing_speak_class.html#a24fa89e20ef8b3314ad8270c1f81dd2d">writeField</a>(channelNumber, field, valueString, writeAPIKey);</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    };</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;</div><div class="line"><a name="l00313"></a><span class="lineno"><a class="line" href="class_thing_speak_class.html#a2e7a26e6bf7b65c0e8e53302787044e2">  313</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="class_thing_speak_class.html#a2e7a26e6bf7b65c0e8e53302787044e2">writeField</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> channelNumber, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> field, <span class="keyword">const</span> <span class="keywordtype">char</span> * value, <span class="keyword">const</span> <span class="keywordtype">char</span> * writeAPIKey)</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    {</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="class_thing_speak_class.html#a24fa89e20ef8b3314ad8270c1f81dd2d">writeField</a>(channelNumber, field, String(value), writeAPIKey);</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    };</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;</div><div class="line"><a name="l00342"></a><span class="lineno"><a class="line" href="class_thing_speak_class.html#a91a8c326cb6a0b6fff38046cc90246ad">  342</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="class_thing_speak_class.html#a91a8c326cb6a0b6fff38046cc90246ad">writeField</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> channelNumber, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> field, String value, <span class="keyword">const</span> <span class="keywordtype">char</span> * writeAPIKey)</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    {</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        <span class="comment">// Invalid field number specified</span></div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        <span class="keywordflow">if</span>(field &lt; FIELDNUM_MIN || field &gt; FIELDNUM_MAX) <span class="keywordflow">return</span> ERR_INVALID_FIELD_NUM;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        <span class="comment">// Max # bytes for ThingSpeak field is 255</span></div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;        <span class="keywordflow">if</span>(value.length() &gt; FIELDLENGTH_MAX) <span class="keywordflow">return</span> ERR_OUT_OF_RANGE;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        </div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;<span class="preprocessor">        #ifdef PRINT_DEBUG_MESSAGES</span></div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;            Serial.print(<span class="stringliteral">&quot;ts::writeField (channelNumber: &quot;</span>); Serial.print(channelNumber); Serial.print(<span class="stringliteral">&quot; writeAPIKey: &quot;</span>); Serial.print(writeAPIKey); Serial.print(<span class="stringliteral">&quot; field: &quot;</span>); Serial.print(field); Serial.print(<span class="stringliteral">&quot; value: \&quot;&quot;</span>); Serial.print(value); Serial.println(<span class="stringliteral">&quot;\&quot;)&quot;</span>);</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;<span class="preprocessor">        #endif</span></div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        String postMessage = String(<span class="stringliteral">&quot;field&quot;</span>) + String(field) + <span class="stringliteral">&quot;=&quot;</span> + value;</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="class_thing_speak_class.html#a2a5333f683802cb455a3713d604abb84">writeRaw</a>(channelNumber, postMessage, writeAPIKey);</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    };</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    </div><div class="line"><a name="l00388"></a><span class="lineno"><a class="line" href="class_thing_speak_class.html#a72eea45043ab45051c02593983d29546">  388</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="class_thing_speak_class.html#a72eea45043ab45051c02593983d29546">setField</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> field, <span class="keywordtype">int</span> value)</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    {</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;        <span class="keywordtype">char</span> valueString[10];  <span class="comment">// int range is -32768 to 32768, so 7 bytes including terminator</span></div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;        itoa(value, valueString, 10);</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;        </div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="class_thing_speak_class.html#a72eea45043ab45051c02593983d29546">setField</a>(field, valueString);</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    };</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;</div><div class="line"><a name="l00429"></a><span class="lineno"><a class="line" href="class_thing_speak_class.html#a8dba6e69d9cc12e5c5efe5043df02d81">  429</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="class_thing_speak_class.html#a8dba6e69d9cc12e5c5efe5043df02d81">setField</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> field, <span class="keywordtype">long</span> value)</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    {</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;        <span class="keywordtype">char</span> valueString[15];  <span class="comment">// long range is -2147483648 to 2147483647, so 12 bytes including terminator</span></div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;        ltoa(value, valueString, 10);</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="class_thing_speak_class.html#a72eea45043ab45051c02593983d29546">setField</a>(field, valueString);</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    };</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;</div><div class="line"><a name="l00468"></a><span class="lineno"><a class="line" href="class_thing_speak_class.html#a5d3dfc59f211651ec7b1260e29921f45">  468</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="class_thing_speak_class.html#a5d3dfc59f211651ec7b1260e29921f45">setField</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> field, <span class="keywordtype">float</span> value)</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    {</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;        <span class="keywordtype">char</span> valueString[20]; <span class="comment">// range is -999999000000.00000 to 999999000000.00000, so 19 + 1 for the terminator</span></div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;        <span class="keywordtype">int</span> status = convertFloatToChar(value, valueString);</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;        <span class="keywordflow">if</span>(status != OK_SUCCESS) <span class="keywordflow">return</span> status;</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="class_thing_speak_class.html#a72eea45043ab45051c02593983d29546">setField</a>(field, valueString);</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    };</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;</div><div class="line"><a name="l00508"></a><span class="lineno"><a class="line" href="class_thing_speak_class.html#a46b7090f54ed4381ff825118d50db1fd">  508</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="class_thing_speak_class.html#a46b7090f54ed4381ff825118d50db1fd">setField</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> field, <span class="keyword">const</span> <span class="keywordtype">char</span> * value)</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    {</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="class_thing_speak_class.html#a72eea45043ab45051c02593983d29546">setField</a>(field, String(value));</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    };</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;</div><div class="line"><a name="l00544"></a><span class="lineno"><a class="line" href="class_thing_speak_class.html#a5201062087f349e50a3dda7e48312850">  544</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="class_thing_speak_class.html#a5201062087f349e50a3dda7e48312850">setField</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> field, String value)</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    {</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;<span class="preprocessor">        #ifdef PRINT_DEBUG_MESSAGES</span></div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;            Serial.print(<span class="stringliteral">&quot;ts::setField   (field: &quot;</span>); Serial.print(field); Serial.print(<span class="stringliteral">&quot; value: \&quot;&quot;</span>); Serial.print(value); Serial.println(<span class="stringliteral">&quot;\&quot;)&quot;</span>);</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;<span class="preprocessor">        #endif</span></div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;        <span class="keywordflow">if</span>(field &lt; FIELDNUM_MIN || field &gt; FIELDNUM_MAX) <span class="keywordflow">return</span> ERR_INVALID_FIELD_NUM;</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;        <span class="comment">// Max # bytes for ThingSpeak field is 255 (UTF-8)</span></div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;        <span class="keywordflow">if</span>(value.length() &gt; FIELDLENGTH_MAX) <span class="keywordflow">return</span> ERR_OUT_OF_RANGE;</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;        this-&gt;nextWriteField[field - 1] = value;</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;        <span class="keywordflow">return</span> OK_SUCCESS;</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    };</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;</div><div class="line"><a name="l00590"></a><span class="lineno"><a class="line" href="class_thing_speak_class.html#ad790afb71eb19b723c6fc2f17f8f4400">  590</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="class_thing_speak_class.html#ad790afb71eb19b723c6fc2f17f8f4400">setLatitude</a>(<span class="keywordtype">float</span> latitude)</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    {</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;<span class="preprocessor">        #ifdef PRINT_DEBUG_MESSAGES</span></div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;            Serial.print(<span class="stringliteral">&quot;ts::setLatitude(latitude: &quot;</span>); Serial.print(latitude,3); Serial.println(<span class="stringliteral">&quot;\&quot;)&quot;</span>);</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;<span class="preprocessor">        #endif</span></div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;        this-&gt;nextWriteLatitude = latitude;</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;        <span class="keywordflow">return</span> OK_SUCCESS;</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    };</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;</div><div class="line"><a name="l00633"></a><span class="lineno"><a class="line" href="class_thing_speak_class.html#a8cb07c25c717a5acc5d8de60b19c0c3e">  633</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="class_thing_speak_class.html#a8cb07c25c717a5acc5d8de60b19c0c3e">setLongitude</a>(<span class="keywordtype">float</span> longitude)</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    {</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;<span class="preprocessor">        #ifdef PRINT_DEBUG_MESSAGES</span></div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;            Serial.print(<span class="stringliteral">&quot;ts::setLongitude(longitude: &quot;</span>); Serial.print(longitude,3); Serial.println(<span class="stringliteral">&quot;\&quot;)&quot;</span>);</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;<span class="preprocessor">        #endif</span></div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;        this-&gt;nextWriteLongitude = longitude;</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;        <span class="keywordflow">return</span> OK_SUCCESS;</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    };</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;</div><div class="line"><a name="l00676"></a><span class="lineno"><a class="line" href="class_thing_speak_class.html#a1e9cc3c21e0a7360310aba628ef586c9">  676</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="class_thing_speak_class.html#a1e9cc3c21e0a7360310aba628ef586c9">setElevation</a>(<span class="keywordtype">float</span> elevation)</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    {</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;<span class="preprocessor">        #ifdef PRINT_DEBUG_MESSAGES</span></div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;            Serial.print(<span class="stringliteral">&quot;ts::setElevation(elevation: &quot;</span>); Serial.print(elevation,3); Serial.println(<span class="stringliteral">&quot;\&quot;)&quot;</span>);</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;<span class="preprocessor">        #endif</span></div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;        this-&gt;nextWriteElevation = elevation;</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;        <span class="keywordflow">return</span> OK_SUCCESS;</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    };</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;</div><div class="line"><a name="l00718"></a><span class="lineno"><a class="line" href="class_thing_speak_class.html#a4dbd25a21942a5d866ae652942aa6dcc">  718</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="class_thing_speak_class.html#a4dbd25a21942a5d866ae652942aa6dcc">setStatus</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> * status)</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    {</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="class_thing_speak_class.html#a4dbd25a21942a5d866ae652942aa6dcc">setStatus</a>(String(status));</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    };</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;</div><div class="line"><a name="l00755"></a><span class="lineno"><a class="line" href="class_thing_speak_class.html#a001b275e7a20cb6f8005593cae5544fd">  755</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="class_thing_speak_class.html#a001b275e7a20cb6f8005593cae5544fd">setStatus</a>(String status)</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    {</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;<span class="preprocessor">        #ifdef PRINT_DEBUG_MESSAGES</span></div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;            Serial.print(<span class="stringliteral">&quot;ts::setStatus(status: &quot;</span>); Serial.print(status); Serial.println(<span class="stringliteral">&quot;\&quot;)&quot;</span>);</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;<span class="preprocessor">        #endif</span></div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;        <span class="comment">// Max # bytes for ThingSpeak field is 255 (UTF-8)</span></div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;        <span class="keywordflow">if</span>(status.length() &gt; FIELDLENGTH_MAX) <span class="keywordflow">return</span> ERR_OUT_OF_RANGE;</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;        this-&gt;nextWriteStatus = status;</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;        <span class="keywordflow">return</span> OK_SUCCESS;</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;    };</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    </div><div class="line"><a name="l00798"></a><span class="lineno"><a class="line" href="class_thing_speak_class.html#a66fee419c9f6c9503263dbb139315699">  798</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="class_thing_speak_class.html#a66fee419c9f6c9503263dbb139315699">setTwitterTweet</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> * twitter, <span class="keyword">const</span> <span class="keywordtype">char</span> * tweet)</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    {</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="class_thing_speak_class.html#a66fee419c9f6c9503263dbb139315699">setTwitterTweet</a>(String(twitter), String(tweet));</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;    };</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;</div><div class="line"><a name="l00835"></a><span class="lineno"><a class="line" href="class_thing_speak_class.html#a07746ddd53be9060eb0eb77dbe57aac9">  835</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="class_thing_speak_class.html#a07746ddd53be9060eb0eb77dbe57aac9">setTwitterTweet</a>(String twitter, <span class="keyword">const</span> <span class="keywordtype">char</span> * tweet)</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    {</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="class_thing_speak_class.html#a66fee419c9f6c9503263dbb139315699">setTwitterTweet</a>(twitter, String(tweet));</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;    };</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;</div><div class="line"><a name="l00872"></a><span class="lineno"><a class="line" href="class_thing_speak_class.html#ad24e983546aa401c56237b3e13900e30">  872</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="class_thing_speak_class.html#ad24e983546aa401c56237b3e13900e30">setTwitterTweet</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> * twitter, String tweet)</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    {</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="class_thing_speak_class.html#a66fee419c9f6c9503263dbb139315699">setTwitterTweet</a>(String(twitter), tweet);</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;    };</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;</div><div class="line"><a name="l00909"></a><span class="lineno"><a class="line" href="class_thing_speak_class.html#a8496a04ee3418f5c163f51d19b053f7a">  909</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="class_thing_speak_class.html#a8496a04ee3418f5c163f51d19b053f7a">setTwitterTweet</a>(String twitter, String tweet){</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;<span class="preprocessor">        #ifdef PRINT_DEBUG_MESSAGES</span></div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;            Serial.print(<span class="stringliteral">&quot;ts::setTwitterTweet(twitter: &quot;</span>); Serial.print(twitter); Serial.print(<span class="stringliteral">&quot;, tweet: &quot;</span>); Serial.print(tweet); Serial.println(<span class="stringliteral">&quot;\&quot;)&quot;</span>);</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;<span class="preprocessor">        #endif</span></div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;        <span class="comment">// Max # bytes for ThingSpeak field is 255 (UTF-8)</span></div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;        <span class="keywordflow">if</span>((twitter.length() &gt; FIELDLENGTH_MAX) || (tweet.length() &gt; FIELDLENGTH_MAX)) <span class="keywordflow">return</span> ERR_OUT_OF_RANGE;</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;        </div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;        this-&gt;nextWriteTwitter = twitter;</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;        this-&gt;nextWriteTweet = tweet;</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;        </div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;        <span class="keywordflow">return</span> OK_SUCCESS;  </div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;    };</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;    </div><div class="line"><a name="l00954"></a><span class="lineno"><a class="line" href="class_thing_speak_class.html#aac2f328fe502083168a324c371174c0e">  954</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="class_thing_speak_class.html#aac2f328fe502083168a324c371174c0e">setCreatedAt</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> * createdAt)</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;    {</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="class_thing_speak_class.html#aac2f328fe502083168a324c371174c0e">setCreatedAt</a>(String(createdAt));</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;    }</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;    </div><div class="line"><a name="l00991"></a><span class="lineno"><a class="line" href="class_thing_speak_class.html#a21229925854cf823521fa6bad4b56e6f">  991</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="class_thing_speak_class.html#a21229925854cf823521fa6bad4b56e6f">setCreatedAt</a>(String createdAt)</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;    {</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;<span class="preprocessor">        #ifdef PRINT_DEBUG_MESSAGES</span></div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;            Serial.print(<span class="stringliteral">&quot;ts::setCreatedAt(createdAt: &quot;</span>); Serial.print(createdAt); Serial.println(<span class="stringliteral">&quot;\&quot;)&quot;</span>);</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;<span class="preprocessor">        #endif</span></div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;        </div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;        <span class="comment">// the ISO 8601 format is too complicated to check for valid timestamps here</span></div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;        <span class="comment">// we&#39;ll need to reply on the api to tell us if there is a problem</span></div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;        <span class="comment">// Max # bytes for ThingSpeak field is 255 (UTF-8)</span></div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;        <span class="keywordflow">if</span>(createdAt.length() &gt; FIELDLENGTH_MAX) <span class="keywordflow">return</span> ERR_OUT_OF_RANGE;</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;        this-&gt;nextWriteCreatedAt = createdAt;</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;        </div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;        <span class="keywordflow">return</span> OK_SUCCESS;</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;    }</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;    </div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;</div><div class="line"><a name="l01041"></a><span class="lineno"><a class="line" href="class_thing_speak_class.html#a986d1958d5aa6705a53a31f3975f8cae"> 1041</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="class_thing_speak_class.html#a986d1958d5aa6705a53a31f3975f8cae">writeFields</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> channelNumber, <span class="keyword">const</span> <span class="keywordtype">char</span> * writeAPIKey)</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;    {</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;        String postMessage = String(<span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;        <span class="keywordtype">bool</span> fFirstItem = <span class="keyword">true</span>;</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;        <span class="keywordflow">for</span>(<span class="keywordtype">size_t</span> iField = 0; iField &lt; 8; iField++)</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;        {</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;            <span class="keywordflow">if</span>(this-&gt;nextWriteField[iField].length() &gt; 0)</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;            {</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;                <span class="keywordflow">if</span>(!fFirstItem)</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;                {</div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;                    postMessage = postMessage + String(<span class="stringliteral">&quot;&amp;&quot;</span>);</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;                }</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;                postMessage = postMessage + String(<span class="stringliteral">&quot;field&quot;</span>) + String(iField + 1) + String(<span class="stringliteral">&quot;=&quot;</span>) + this-&gt;nextWriteField[iField];</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;                fFirstItem = <span class="keyword">false</span>;</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;                this-&gt;nextWriteField[iField] = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;            }</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;        }</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;        <span class="keywordflow">if</span>(!isnan(nextWriteLatitude))</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;        {</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;            <span class="keywordflow">if</span>(!fFirstItem)</div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;            {</div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;                postMessage = postMessage + String(<span class="stringliteral">&quot;&amp;&quot;</span>);</div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;            }</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;            postMessage = postMessage + String(<span class="stringliteral">&quot;lat=&quot;</span>) + String(this-&gt;nextWriteLatitude);</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;            fFirstItem = <span class="keyword">false</span>;</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;            this-&gt;nextWriteLatitude = NAN;</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;        }</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;        <span class="keywordflow">if</span>(!isnan(this-&gt;nextWriteLongitude))</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;        {</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;            <span class="keywordflow">if</span>(!fFirstItem)</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;            {</div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;                postMessage = postMessage + String(<span class="stringliteral">&quot;&amp;&quot;</span>);</div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;            }</div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;            postMessage = postMessage + String(<span class="stringliteral">&quot;long=&quot;</span>) + String(this-&gt;nextWriteLongitude);</div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;            fFirstItem = <span class="keyword">false</span>;</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;            this-&gt;nextWriteLongitude = NAN;</div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;        }</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;</div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;        <span class="keywordflow">if</span>(!isnan(this-&gt;nextWriteElevation))</div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;        {</div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;            <span class="keywordflow">if</span>(!fFirstItem)</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;            {</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;                postMessage = postMessage + String(<span class="stringliteral">&quot;&amp;&quot;</span>);</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;            }</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;            postMessage = postMessage + String(<span class="stringliteral">&quot;elevation=&quot;</span>) + String(this-&gt;nextWriteElevation);</div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;            fFirstItem = <span class="keyword">false</span>;</div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;            this-&gt;nextWriteElevation = NAN;</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;        }</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;        </div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;        <span class="keywordflow">if</span>(this-&gt;nextWriteStatus.length() &gt; 0)</div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;        {</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;            <span class="keywordflow">if</span>(!fFirstItem)</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;            {</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;                postMessage = postMessage + String(<span class="stringliteral">&quot;&amp;&quot;</span>);</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;            }</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;            postMessage = postMessage + String(<span class="stringliteral">&quot;status=&quot;</span>) + String(this-&gt;nextWriteStatus);</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;            fFirstItem = <span class="keyword">false</span>;</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;            this-&gt;nextWriteStatus = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;        }</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;        </div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;        <span class="keywordflow">if</span>(this-&gt;nextWriteTwitter.length() &gt; 0)</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;        {</div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;            <span class="keywordflow">if</span>(!fFirstItem)</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;            {</div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;                postMessage = postMessage + String(<span class="stringliteral">&quot;&amp;&quot;</span>);</div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;            }</div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;            postMessage = postMessage + String(<span class="stringliteral">&quot;twitter=&quot;</span>) + String(this-&gt;nextWriteTwitter);</div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;            fFirstItem = <span class="keyword">false</span>;</div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;            this-&gt;nextWriteTwitter = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;        }</div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;        </div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;        <span class="keywordflow">if</span>(this-&gt;nextWriteTweet.length() &gt; 0)</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;        {</div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;            <span class="keywordflow">if</span>(!fFirstItem)</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;            {</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;                postMessage = postMessage + String(<span class="stringliteral">&quot;&amp;&quot;</span>);</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;            }</div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;            postMessage = postMessage + String(<span class="stringliteral">&quot;tweet=&quot;</span>) + String(this-&gt;nextWriteTweet);</div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;            fFirstItem = <span class="keyword">false</span>;</div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;            this-&gt;nextWriteTweet = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;        }</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;        </div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;        <span class="keywordflow">if</span>(this-&gt;nextWriteCreatedAt.length() &gt; 0)</div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;        {</div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;            <span class="keywordflow">if</span>(!fFirstItem)</div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;            {</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;                postMessage = postMessage + String(<span class="stringliteral">&quot;&amp;&quot;</span>);</div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;            }</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;            postMessage = postMessage + String(<span class="stringliteral">&quot;created_at=&quot;</span>) + String(this-&gt;nextWriteCreatedAt);</div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;            fFirstItem = <span class="keyword">false</span>;</div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;            this-&gt;nextWriteCreatedAt = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;        }</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;        </div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;        </div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;        <span class="keywordflow">if</span>(fFirstItem)</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;        {</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;            <span class="comment">// setField was not called before writeFields</span></div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;            <span class="keywordflow">return</span> ERR_SETFIELD_NOT_CALLED;</div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;        }</div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;</div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="class_thing_speak_class.html#a2a5333f683802cb455a3713d604abb84">writeRaw</a>(channelNumber, postMessage, writeAPIKey);</div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;    };</div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;</div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;</div><div class="line"><a name="l01168"></a><span class="lineno"><a class="line" href="class_thing_speak_class.html#a2a5333f683802cb455a3713d604abb84"> 1168</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="class_thing_speak_class.html#a2a5333f683802cb455a3713d604abb84">writeRaw</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> channelNumber, <span class="keyword">const</span> <span class="keywordtype">char</span> * postMessage, <span class="keyword">const</span> <span class="keywordtype">char</span> * writeAPIKey)</div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;    {</div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="class_thing_speak_class.html#a2a5333f683802cb455a3713d604abb84">writeRaw</a>(channelNumber, String(postMessage), writeAPIKey);</div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;    };</div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;</div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;</div><div class="line"><a name="l01189"></a><span class="lineno"><a class="line" href="class_thing_speak_class.html#a7c3415bd86e0fa2c335d3b245912fb55"> 1189</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="class_thing_speak_class.html#a7c3415bd86e0fa2c335d3b245912fb55">writeRaw</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> channelNumber, String postMessage, <span class="keyword">const</span> <span class="keywordtype">char</span> * writeAPIKey)</div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;    {</div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;<span class="preprocessor">        #ifdef PRINT_DEBUG_MESSAGES</span></div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;            Serial.print(<span class="stringliteral">&quot;ts::writeRaw   (channelNumber: &quot;</span>); Serial.print(channelNumber); Serial.print(<span class="stringliteral">&quot; writeAPIKey: &quot;</span>); Serial.print(writeAPIKey); Serial.print(<span class="stringliteral">&quot; postMessage: \&quot;&quot;</span>); Serial.print(postMessage); Serial.println(<span class="stringliteral">&quot;\&quot;)&quot;</span>);</div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;<span class="preprocessor">        #endif</span></div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;</div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;        <span class="keywordflow">if</span>(!connectThingSpeak())</div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;        {</div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;            <span class="comment">// Failed to connect to ThingSpeak</span></div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;            <span class="keywordflow">return</span> ERR_CONNECT_FAILED;</div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;        }</div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;</div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;        postMessage = postMessage + String(<span class="stringliteral">&quot;&amp;headers=false&quot;</span>);</div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;</div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;<span class="preprocessor">        #ifdef PRINT_DEBUG_MESSAGES</span></div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;            Serial.print(<span class="stringliteral">&quot;               POST \&quot;&quot;</span>);Serial.print(postMessage);Serial.println(<span class="stringliteral">&quot;\&quot;&quot;</span>);</div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;<span class="preprocessor">        #endif</span></div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;</div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;        postMessage = postMessage + String(<span class="stringliteral">&quot;\n&quot;</span>);</div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;</div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;        <span class="comment">// Post data to thingspeak</span></div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;        <span class="keywordflow">if</span>(!this-&gt;client-&gt;print(<span class="stringliteral">&quot;POST /update HTTP/1.1\r\n&quot;</span>)) <span class="keywordflow">return</span> abortWriteRaw();</div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;        <span class="keywordflow">if</span>(!writeHTTPHeader(writeAPIKey)) <span class="keywordflow">return</span> abortWriteRaw();</div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;        <span class="keywordflow">if</span>(!this-&gt;client-&gt;print(<span class="stringliteral">&quot;Content-Type: application/x-www-form-urlencoded\r\n&quot;</span>)) <span class="keywordflow">return</span> abortWriteRaw();</div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;        <span class="keywordflow">if</span>(!this-&gt;client-&gt;print(<span class="stringliteral">&quot;Content-Length: &quot;</span>)) <span class="keywordflow">return</span> abortWriteRaw();</div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;        <span class="keywordflow">if</span>(!this-&gt;client-&gt;print(postMessage.length())) <span class="keywordflow">return</span> abortWriteRaw();</div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;        <span class="keywordflow">if</span>(!this-&gt;client-&gt;print(<span class="stringliteral">&quot;\r\n\r\n&quot;</span>)) <span class="keywordflow">return</span> abortWriteRaw();</div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;        <span class="keywordflow">if</span>(!this-&gt;client-&gt;print(postMessage)) <span class="keywordflow">return</span> abortWriteRaw();</div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;  </div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;        String entryIDText = String();</div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;        <span class="keywordtype">int</span> status = getHTTPResponse(entryIDText);</div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;        <span class="keywordflow">if</span>(status != OK_SUCCESS)</div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;        {</div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;            client-&gt;stop();</div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;            <span class="keywordflow">return</span> status;</div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;        }</div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;        <span class="keywordtype">long</span> entryID = entryIDText.toInt();</div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;</div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;<span class="preprocessor">        #ifdef PRINT_DEBUG_MESSAGES</span></div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;        Serial.print(<span class="stringliteral">&quot;               Entry ID \&quot;&quot;</span>);Serial.print(entryIDText);Serial.print(<span class="stringliteral">&quot;\&quot; (&quot;</span>);Serial.print(entryID);Serial.println(<span class="stringliteral">&quot;)&quot;</span>);</div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;<span class="preprocessor">        #endif</span></div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;</div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;        client-&gt;stop();</div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;        </div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;<span class="preprocessor">        #ifdef PRINT_DEBUG_MESSAGES</span></div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;            Serial.println(<span class="stringliteral">&quot;disconnected.&quot;</span>);</div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;<span class="preprocessor">        #endif</span></div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;        <span class="keywordflow">if</span>(entryID == 0)</div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;        {</div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;            <span class="comment">// ThingSpeak did not accept the write</span></div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;            status = ERR_NOT_INSERTED;</div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;        }</div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;        <span class="keywordflow">return</span> status;</div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;    };</div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;    </div><div class="line"><a name="l01259"></a><span class="lineno"><a class="line" href="class_thing_speak_class.html#aa1534ea566b7f9fc951a41f8cf41f53b"> 1259</a></span>&#160;    String <a class="code" href="class_thing_speak_class.html#aa1534ea566b7f9fc951a41f8cf41f53b">readStringField</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> channelNumber, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> field, <span class="keyword">const</span> <span class="keywordtype">char</span> * readAPIKey)</div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;    {</div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;        <span class="keywordflow">if</span>(field &lt; FIELDNUM_MIN || field &gt; FIELDNUM_MAX)</div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;        {</div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;            this-&gt;lastReadStatus = ERR_INVALID_FIELD_NUM;</div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;            <span class="keywordflow">return</span>(<span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;        }</div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;<span class="preprocessor">        #ifdef PRINT_DEBUG_MESSAGES</span></div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;            Serial.print(<span class="stringliteral">&quot;ts::readStringField(channelNumber: &quot;</span>); Serial.print(channelNumber); </div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;            <span class="keywordflow">if</span>(NULL != readAPIKey)</div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;            {</div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;                Serial.print(<span class="stringliteral">&quot; readAPIKey: &quot;</span>); Serial.print(readAPIKey);</div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;            }</div><div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;            Serial.print(<span class="stringliteral">&quot; field: &quot;</span>); Serial.print(field); Serial.println(<span class="stringliteral">&quot;)&quot;</span>);</div><div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;<span class="preprocessor">        #endif</span></div><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="class_thing_speak_class.html#a578758c62a821dc9197ec6a3fdc0f7bc">readRaw</a>(channelNumber, String(String(<span class="stringliteral">&quot;/fields/&quot;</span>) + String(field) + String(<span class="stringliteral">&quot;/last&quot;</span>)), readAPIKey);</div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;    }</div><div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;</div><div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;</div><div class="line"><a name="l01292"></a><span class="lineno"><a class="line" href="class_thing_speak_class.html#a7ed5914c2f5c7d84672cdaae3547da96"> 1292</a></span>&#160;    String <a class="code" href="class_thing_speak_class.html#a7ed5914c2f5c7d84672cdaae3547da96">readStringField</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> channelNumber, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> field)</div><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;    {</div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="class_thing_speak_class.html#aa1534ea566b7f9fc951a41f8cf41f53b">readStringField</a>(channelNumber, field, NULL);</div><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;    };</div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;</div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;</div><div class="line"><a name="l01314"></a><span class="lineno"><a class="line" href="class_thing_speak_class.html#a02cd79a65f1229711801fac5aec158b4"> 1314</a></span>&#160;    <span class="keywordtype">float</span> <a class="code" href="class_thing_speak_class.html#a02cd79a65f1229711801fac5aec158b4">readFloatField</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> channelNumber, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> field, <span class="keyword">const</span> <span class="keywordtype">char</span> * readAPIKey)</div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;    {</div><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;        <span class="keywordflow">return</span> convertStringToFloat(<a class="code" href="class_thing_speak_class.html#aa1534ea566b7f9fc951a41f8cf41f53b">readStringField</a>(channelNumber, field, readAPIKey));</div><div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;    };</div><div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;</div><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;</div><div class="line"><a name="l01335"></a><span class="lineno"><a class="line" href="class_thing_speak_class.html#ac65345864040b8f067a6d0e73a8dccfa"> 1335</a></span>&#160;    <span class="keywordtype">float</span> <a class="code" href="class_thing_speak_class.html#ac65345864040b8f067a6d0e73a8dccfa">readFloatField</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> channelNumber, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> field)</div><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;    {</div><div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="class_thing_speak_class.html#a02cd79a65f1229711801fac5aec158b4">readFloatField</a>(channelNumber, field, NULL);</div><div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;    };</div><div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;</div><div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;</div><div class="line"><a name="l01356"></a><span class="lineno"><a class="line" href="class_thing_speak_class.html#aff3c2e94e85da016fb8c82432e015d1b"> 1356</a></span>&#160;    <span class="keywordtype">long</span> <a class="code" href="class_thing_speak_class.html#aff3c2e94e85da016fb8c82432e015d1b">readLongField</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> channelNumber, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> field, <span class="keyword">const</span> <span class="keywordtype">char</span> * readAPIKey)</div><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;    {</div><div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;        <span class="comment">// Note that although the function is called &quot;toInt&quot; it really returns a long.</span></div><div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="class_thing_speak_class.html#aa1534ea566b7f9fc951a41f8cf41f53b">readStringField</a>(channelNumber, field, readAPIKey).toInt();</div><div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;    }</div><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;</div><div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;</div><div class="line"><a name="l01377"></a><span class="lineno"><a class="line" href="class_thing_speak_class.html#aa1660fbf6444ca06dc744a244905f6d9"> 1377</a></span>&#160;    <span class="keywordtype">long</span> <a class="code" href="class_thing_speak_class.html#aa1660fbf6444ca06dc744a244905f6d9">readLongField</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> channelNumber, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> field)</div><div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;    {</div><div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="class_thing_speak_class.html#aff3c2e94e85da016fb8c82432e015d1b">readLongField</a>(channelNumber, field, NULL);</div><div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;    };</div><div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;</div><div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;</div><div class="line"><a name="l01399"></a><span class="lineno"><a class="line" href="class_thing_speak_class.html#a1241ae5b3e08b1751495f2e45dabcc46"> 1399</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="class_thing_speak_class.html#a1241ae5b3e08b1751495f2e45dabcc46">readIntField</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> channelNumber, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> field, <span class="keyword">const</span> <span class="keywordtype">char</span> * readAPIKey)</div><div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;    {</div><div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="class_thing_speak_class.html#aff3c2e94e85da016fb8c82432e015d1b">readLongField</a>(channelNumber, field, readAPIKey);</div><div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;    }</div><div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;</div><div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;</div><div class="line"><a name="l01420"></a><span class="lineno"><a class="line" href="class_thing_speak_class.html#adb2ba704f38e591a6a391f7aa1850818"> 1420</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="class_thing_speak_class.html#adb2ba704f38e591a6a391f7aa1850818">readIntField</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> channelNumber, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> field)</div><div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;    {</div><div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="class_thing_speak_class.html#aff3c2e94e85da016fb8c82432e015d1b">readLongField</a>(channelNumber, field, NULL);</div><div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;    };</div><div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;</div><div class="line"><a name="l01439"></a><span class="lineno"><a class="line" href="class_thing_speak_class.html#ac658ac00936801802c7c4338aaa41de7"> 1439</a></span>&#160;    String <a class="code" href="class_thing_speak_class.html#ac658ac00936801802c7c4338aaa41de7">readStatus</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> channelNumber, <span class="keyword">const</span> <span class="keywordtype">char</span> * readAPIKey)</div><div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;    {</div><div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;        String content = <a class="code" href="class_thing_speak_class.html#a578758c62a821dc9197ec6a3fdc0f7bc">readRaw</a>(channelNumber, <span class="stringliteral">&quot;/feeds/last.txt?status=true&quot;</span>, readAPIKey);</div><div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;        </div><div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="class_thing_speak_class.html#a549941b4b0000a2ba89de94f038ed577">getLastReadStatus</a>() != OK_SUCCESS){</div><div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;            <span class="keywordflow">return</span> String(<span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;        }</div><div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;        </div><div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;        <span class="keywordflow">return</span> getJSONValueByKey(content, <span class="stringliteral">&quot;status&quot;</span>);</div><div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;    };</div><div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;    </div><div class="line"><a name="l01463"></a><span class="lineno"><a class="line" href="class_thing_speak_class.html#afc283ce71678bc9e5d97b043e19c107a"> 1463</a></span>&#160;    String <a class="code" href="class_thing_speak_class.html#afc283ce71678bc9e5d97b043e19c107a">readStatus</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> channelNumber)</div><div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;    {</div><div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="class_thing_speak_class.html#ac658ac00936801802c7c4338aaa41de7">readStatus</a>(channelNumber, NULL);</div><div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;    };</div><div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;    </div><div class="line"><a name="l01482"></a><span class="lineno"><a class="line" href="class_thing_speak_class.html#a518a485a4cba6cf6a61b5bbd431e74d8"> 1482</a></span>&#160;    String <a class="code" href="class_thing_speak_class.html#a518a485a4cba6cf6a61b5bbd431e74d8">readCreatedAt</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> channelNumber, <span class="keyword">const</span> <span class="keywordtype">char</span> * readAPIKey)</div><div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;    {</div><div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;        String content = <a class="code" href="class_thing_speak_class.html#a578758c62a821dc9197ec6a3fdc0f7bc">readRaw</a>(channelNumber, <span class="stringliteral">&quot;/feeds/last.txt&quot;</span>, readAPIKey);</div><div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;        </div><div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="class_thing_speak_class.html#a549941b4b0000a2ba89de94f038ed577">getLastReadStatus</a>() != OK_SUCCESS){</div><div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;            <span class="keywordflow">return</span> String(<span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;        }</div><div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;        </div><div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;        <span class="keywordflow">return</span> getJSONValueByKey(content, <span class="stringliteral">&quot;created_at&quot;</span>);</div><div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;    };</div><div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;</div><div class="line"><a name="l01506"></a><span class="lineno"><a class="line" href="class_thing_speak_class.html#acf246240dc6d5dd8d71fcf4e609e2838"> 1506</a></span>&#160;    String <a class="code" href="class_thing_speak_class.html#acf246240dc6d5dd8d71fcf4e609e2838">readCreatedAt</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> channelNumber)</div><div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;    {</div><div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="class_thing_speak_class.html#a518a485a4cba6cf6a61b5bbd431e74d8">readCreatedAt</a>(channelNumber, NULL);</div><div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;    };</div><div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;    </div><div class="line"><a name="l01526"></a><span class="lineno"><a class="line" href="class_thing_speak_class.html#a578758c62a821dc9197ec6a3fdc0f7bc"> 1526</a></span>&#160;    String <a class="code" href="class_thing_speak_class.html#a578758c62a821dc9197ec6a3fdc0f7bc">readRaw</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> channelNumber, String URLSuffix)</div><div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;    {</div><div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="class_thing_speak_class.html#a578758c62a821dc9197ec6a3fdc0f7bc">readRaw</a>(channelNumber, URLSuffix, NULL);</div><div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;    }</div><div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;    </div><div class="line"><a name="l01547"></a><span class="lineno"><a class="line" href="class_thing_speak_class.html#abffced4cce37008c03c32d3feb38861d"> 1547</a></span>&#160;    String <a class="code" href="class_thing_speak_class.html#abffced4cce37008c03c32d3feb38861d">readRaw</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> channelNumber, String URLSuffix, <span class="keyword">const</span> <span class="keywordtype">char</span> * readAPIKey)</div><div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;    {</div><div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;<span class="preprocessor">        #ifdef PRINT_DEBUG_MESSAGES</span></div><div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;            Serial.print(<span class="stringliteral">&quot;ts::readRaw   (channelNumber: &quot;</span>); Serial.print(channelNumber);</div><div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;            <span class="keywordflow">if</span>(NULL != readAPIKey)</div><div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;            {</div><div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;                Serial.print(<span class="stringliteral">&quot; readAPIKey: &quot;</span>); Serial.print(readAPIKey);</div><div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;            }</div><div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;            Serial.print(<span class="stringliteral">&quot; URLSuffix: \&quot;&quot;</span>); Serial.print(URLSuffix); Serial.println(<span class="stringliteral">&quot;\&quot;)&quot;</span>);</div><div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;<span class="preprocessor">        #endif</span></div><div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;</div><div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;        <span class="keywordflow">if</span>(!connectThingSpeak())</div><div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;        {</div><div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;            this-&gt;lastReadStatus = ERR_CONNECT_FAILED;</div><div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;            <span class="keywordflow">return</span> String(<span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;        }</div><div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;</div><div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;        String URL = String(<span class="stringliteral">&quot;/channels/&quot;</span>) + String(channelNumber) + URLSuffix;</div><div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;</div><div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;<span class="preprocessor">        #ifdef PRINT_DEBUG_MESSAGES</span></div><div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;            Serial.print(<span class="stringliteral">&quot;               GET \&quot;&quot;</span>);Serial.print(URL);Serial.println(<span class="stringliteral">&quot;\&quot;&quot;</span>);</div><div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;<span class="preprocessor">        #endif</span></div><div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;</div><div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;        <span class="comment">// Post data to thingspeak</span></div><div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;        <span class="keywordflow">if</span>(!this-&gt;client-&gt;print(<span class="stringliteral">&quot;GET &quot;</span>)) <span class="keywordflow">return</span> abortReadRaw();</div><div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;        <span class="keywordflow">if</span>(!this-&gt;client-&gt;print(URL)) <span class="keywordflow">return</span> abortReadRaw();</div><div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;        <span class="keywordflow">if</span>(!this-&gt;client-&gt;print(<span class="stringliteral">&quot; HTTP/1.1\r\n&quot;</span>)) <span class="keywordflow">return</span> abortReadRaw();</div><div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;        <span class="keywordflow">if</span>(!writeHTTPHeader(readAPIKey)) <span class="keywordflow">return</span> abortReadRaw();</div><div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;        <span class="keywordflow">if</span>(!this-&gt;client-&gt;print(<span class="stringliteral">&quot;\r\n&quot;</span>)) <span class="keywordflow">return</span> abortReadRaw();</div><div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160; </div><div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;        String content = String();</div><div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;        <span class="keywordtype">int</span> status = getHTTPResponse(content);</div><div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;            </div><div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;        this-&gt;lastReadStatus = status;</div><div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;</div><div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;</div><div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;<span class="preprocessor">        #ifdef PRINT_DEBUG_MESSAGES</span></div><div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;            <span class="keywordflow">if</span>(status == OK_SUCCESS)</div><div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;            {</div><div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;                Serial.print(<span class="stringliteral">&quot;Read: \&quot;&quot;</span>); Serial.print(content); Serial.println(<span class="stringliteral">&quot;\&quot;&quot;</span>);</div><div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;            }</div><div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;<span class="preprocessor">        #endif</span></div><div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;</div><div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;        client-&gt;stop();</div><div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;<span class="preprocessor">        #ifdef PRINT_DEBUG_MESSAGES</span></div><div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;            Serial.println(<span class="stringliteral">&quot;disconnected.&quot;</span>);</div><div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;<span class="preprocessor">        #endif</span></div><div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;</div><div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;        <span class="keywordflow">if</span>(status != OK_SUCCESS)</div><div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;        {</div><div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;            <span class="comment">// return status;</span></div><div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;            <span class="keywordflow">return</span> String(<span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;        }</div><div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;</div><div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;        <span class="comment">// This is a workaround to a bug in the Spark implementation of String</span></div><div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;        <span class="keywordflow">return</span> String(<span class="stringliteral">&quot;&quot;</span>) + content;</div><div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;    };</div><div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;    </div><div class="line"><a name="l01638"></a><span class="lineno"><a class="line" href="class_thing_speak_class.html#a549941b4b0000a2ba89de94f038ed577"> 1638</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="class_thing_speak_class.html#a549941b4b0000a2ba89de94f038ed577">getLastReadStatus</a>()</div><div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;    {</div><div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;        <span class="keywordflow">return</span> this-&gt;lastReadStatus;</div><div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;    };</div><div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;<span class="keyword">private</span>:</div><div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;    </div><div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;    String getJSONValueByKey(String textToSearch, String key)</div><div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;    {   </div><div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;        <span class="keywordflow">if</span>(textToSearch.length() == 0){</div><div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;            <span class="keywordflow">return</span> String(<span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;        } </div><div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;        </div><div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;        String searchPhrase = String(<span class="stringliteral">&quot;\&quot;&quot;</span>) + key + String(<span class="stringliteral">&quot;\&quot;:\&quot;&quot;</span>);</div><div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;        </div><div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;        <span class="keywordtype">int</span> fromPosition = textToSearch.indexOf(searchPhrase,0);</div><div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;        </div><div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;        <span class="keywordflow">if</span>(fromPosition == -1){</div><div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;            <span class="comment">// return because there is no status or it&#39;s null</span></div><div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;            <span class="keywordflow">return</span> String(<span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;        }</div><div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;        </div><div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;        fromPosition = fromPosition + searchPhrase.length();</div><div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;                </div><div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;        <span class="keywordtype">int</span> toPosition = textToSearch.indexOf(<span class="stringliteral">&quot;\&quot;&quot;</span>, fromPosition);</div><div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;        </div><div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;        </div><div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;        <span class="keywordflow">if</span>(toPosition == -1){</div><div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;            <span class="comment">// return because there is no end quote</span></div><div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;            <span class="keywordflow">return</span> String(<span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;        }</div><div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;        </div><div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;        textToSearch.remove(toPosition);</div><div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;        </div><div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;        <span class="keywordflow">return</span> textToSearch.substring(fromPosition);    </div><div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;    }</div><div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;    </div><div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;    <span class="keywordtype">int</span> abortWriteRaw()</div><div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;    {</div><div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;        this-&gt;client-&gt;stop();</div><div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;        <span class="keywordflow">return</span> ERR_UNEXPECTED_FAIL;</div><div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;    }</div><div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;</div><div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;    String abortReadRaw()</div><div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;    {</div><div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;        this-&gt;client-&gt;stop();</div><div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;<span class="preprocessor">        #ifdef PRINT_DEBUG_MESSAGES</span></div><div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;            Serial.println(<span class="stringliteral">&quot;ReadRaw abort - disconnected.&quot;</span>);</div><div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;<span class="preprocessor">        #endif</span></div><div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;        this-&gt;lastReadStatus = ERR_UNEXPECTED_FAIL;</div><div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;        <span class="keywordflow">return</span> String(<span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;    }</div><div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;</div><div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;    <span class="keywordtype">void</span> setServer(<span class="keyword">const</span> <span class="keywordtype">char</span> * customHostName, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> port)</div><div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;    {</div><div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;<span class="preprocessor">        #ifdef PRINT_DEBUG_MESSAGES</span></div><div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;            Serial.print(<span class="stringliteral">&quot;ts::setServer  (URL: \&quot;&quot;</span>); Serial.print(customHostName); Serial.println(<span class="stringliteral">&quot;\&quot;)&quot;</span>);</div><div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;<span class="preprocessor">        #endif</span></div><div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;        this-&gt;customIP = INADDR_NONE;</div><div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;        this-&gt;customHostName = customHostName;</div><div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;        this-&gt;port = port;</div><div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;    };</div><div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;</div><div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;    <span class="keywordtype">void</span> setServer(IPAddress customIP, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> port)</div><div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;    {</div><div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;<span class="preprocessor">        #ifdef PRINT_DEBUG_MESSAGES</span></div><div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;            Serial.print(<span class="stringliteral">&quot;ts::setServer  (IP: \&quot;&quot;</span>); Serial.print(customIP); Serial.println(<span class="stringliteral">&quot;\&quot;)&quot;</span>);</div><div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;<span class="preprocessor">        #endif</span></div><div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;        this-&gt;customIP = customIP;</div><div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;        this-&gt;customHostName = NULL;</div><div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;        this-&gt;port = port;</div><div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;    };</div><div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;</div><div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;    <span class="keywordtype">void</span> setServer()</div><div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;    {</div><div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;<span class="preprocessor">        #ifdef PRINT_DEBUG_MESSAGES</span></div><div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;            Serial.print(<span class="stringliteral">&quot;ts::setServer  (default)&quot;</span>);</div><div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;<span class="preprocessor">        #endif</span></div><div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;        this-&gt;customIP = INADDR_NONE;</div><div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;        this-&gt;customHostName = NULL;</div><div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;        this-&gt;port = THINGSPEAK_PORT_NUMBER;</div><div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;    };</div><div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;</div><div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;    <span class="keywordtype">void</span> setClient(Client * client) {this-&gt;client = client;};</div><div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;</div><div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;    Client * client = NULL;</div><div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> * customHostName = NULL;</div><div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;    IPAddress customIP = INADDR_NONE;</div><div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> port = THINGSPEAK_PORT_NUMBER;</div><div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;    String nextWriteField[8];</div><div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;    <span class="keywordtype">float</span> nextWriteLatitude;</div><div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;    <span class="keywordtype">float</span> nextWriteLongitude;</div><div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;    <span class="keywordtype">float</span> nextWriteElevation;</div><div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;    <span class="keywordtype">int</span> lastReadStatus;</div><div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;    String nextWriteStatus;</div><div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;    String nextWriteTwitter;</div><div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;    String nextWriteTweet;</div><div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;    String nextWriteCreatedAt;</div><div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;</div><div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;    <span class="keywordtype">bool</span> connectThingSpeak()</div><div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;    {</div><div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;        <span class="keywordtype">bool</span> connectSuccess = <span class="keyword">false</span>;</div><div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;        <span class="keywordflow">if</span>(this-&gt;customIP == INADDR_NONE &amp;&amp; NULL == this-&gt;customHostName)</div><div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;        {</div><div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;<span class="preprocessor">            #ifdef PRINT_DEBUG_MESSAGES</span></div><div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;                Serial.print(<span class="stringliteral">&quot;               Connect to default ThingSpeak URL...&quot;</span>);</div><div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;<span class="preprocessor">            #endif</span></div><div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;            connectSuccess = client-&gt;connect(THINGSPEAK_URL,THINGSPEAK_PORT_NUMBER);</div><div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;            <span class="keywordflow">if</span>(!connectSuccess)</div><div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;            {</div><div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;<span class="preprocessor">                #ifdef PRINT_DEBUG_MESSAGES</span></div><div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;                    Serial.print(<span class="stringliteral">&quot;Failed. Try default IP...&quot;</span>);</div><div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;<span class="preprocessor">                #endif</span></div><div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;                connectSuccess = client-&gt;connect(THINGSPEAK_IPADDRESS,THINGSPEAK_PORT_NUMBER);</div><div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;            }</div><div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;       }</div><div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;       <span class="keywordflow">else</span></div><div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;       {</div><div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;            <span class="keywordflow">if</span>(!(this-&gt;customIP == INADDR_NONE))</div><div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;            {</div><div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;                <span class="comment">// Connect to the server on port 80 (HTTP) at the customIP address</span></div><div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;<span class="preprocessor">                #ifdef PRINT_DEBUG_MESSAGES</span></div><div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;                  Serial.print(<span class="stringliteral">&quot;               Connect to &quot;</span>);Serial.print(this-&gt;customIP);Serial.print(<span class="stringliteral">&quot;...&quot;</span>);</div><div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;<span class="preprocessor">                #endif</span></div><div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;                connectSuccess = client-&gt;connect(this-&gt;customIP,this-&gt;port);</div><div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;            }</div><div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;            <span class="keywordflow">if</span>(NULL != this-&gt;customHostName)</div><div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;            {</div><div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;                <span class="comment">// Connect to the server on port 80 (HTTP) at the URL address</span></div><div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;<span class="preprocessor">                #ifdef PRINT_DEBUG_MESSAGES</span></div><div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;                    Serial.print(<span class="stringliteral">&quot;               Connect to &quot;</span>);Serial.print(this-&gt;customHostName);Serial.print(<span class="stringliteral">&quot; ...&quot;</span>);</div><div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;<span class="preprocessor">                #endif</span></div><div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;                connectSuccess = client-&gt;connect(customHostName,this-&gt;port);</div><div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;            }</div><div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;        }</div><div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;</div><div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;<span class="preprocessor">        #ifdef PRINT_DEBUG_MESSAGES</span></div><div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;        <span class="keywordflow">if</span> (connectSuccess)</div><div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;        {</div><div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;            Serial.println(<span class="stringliteral">&quot;Success.&quot;</span>);</div><div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;        }</div><div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;        {</div><div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;            Serial.println(<span class="stringliteral">&quot;Failed.&quot;</span>);</div><div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;        }</div><div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;<span class="preprocessor">        #endif</span></div><div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;        <span class="keywordflow">return</span> connectSuccess;</div><div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;    };</div><div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;</div><div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;    <span class="keywordtype">bool</span> writeHTTPHeader(<span class="keyword">const</span> <span class="keywordtype">char</span> * APIKey)</div><div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;    {</div><div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;        <span class="keywordflow">if</span>(NULL != this-&gt;customHostName)</div><div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;        {</div><div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;            <span class="keywordflow">if</span> (!this-&gt;client-&gt;print(<span class="stringliteral">&quot;Host: &quot;</span>)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;            <span class="keywordflow">if</span> (!this-&gt;client-&gt;print(this-&gt;customHostName)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;            <span class="keywordflow">if</span> (!this-&gt;client-&gt;print(<span class="stringliteral">&quot;\r\n&quot;</span>)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;        }</div><div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;        {</div><div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;            <span class="keywordflow">if</span> (!this-&gt;client-&gt;print(<span class="stringliteral">&quot;Host: api.thingspeak.com\r\n&quot;</span>)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;        }</div><div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;        <span class="keywordflow">if</span> (!this-&gt;client-&gt;print(<span class="stringliteral">&quot;Connection: close\r\n&quot;</span>)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;        <span class="keywordflow">if</span> (!this-&gt;client-&gt;print(<span class="stringliteral">&quot;User-Agent: &quot;</span>)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;        <span class="keywordflow">if</span> (!this-&gt;client-&gt;print(TS_USER_AGENT)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;        <span class="keywordflow">if</span> (!this-&gt;client-&gt;print(<span class="stringliteral">&quot;\r\n&quot;</span>)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;        <span class="keywordflow">if</span>(NULL != APIKey)</div><div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;        {</div><div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;            <span class="keywordflow">if</span> (!this-&gt;client-&gt;print(<span class="stringliteral">&quot;X-THINGSPEAKAPIKEY: &quot;</span>)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;            <span class="keywordflow">if</span> (!this-&gt;client-&gt;print(APIKey)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;            <span class="keywordflow">if</span> (!this-&gt;client-&gt;print(<span class="stringliteral">&quot;\r\n&quot;</span>)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;        }</div><div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;    };</div><div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;</div><div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;    <span class="keywordtype">int</span> getHTTPResponse(String &amp; response)</div><div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;    {</div><div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;        <span class="keywordtype">long</span> startWaitForResponseAt = millis();</div><div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;        <span class="keywordflow">while</span>(client-&gt;available() == 0 &amp;&amp; millis() - startWaitForResponseAt &lt; TIMEOUT_MS_SERVERRESPONSE)</div><div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;        {</div><div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;            delay(100);</div><div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;        }</div><div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;        <span class="keywordflow">if</span>(client-&gt;available() == 0)</div><div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;        {</div><div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;            <span class="keywordflow">return</span> ERR_TIMEOUT; <span class="comment">// Didn&#39;t get server response in time</span></div><div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;        }</div><div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;</div><div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;        <span class="keywordflow">if</span>(!client-&gt;find(const_cast&lt;char *&gt;(<span class="stringliteral">&quot;HTTP/1.1&quot;</span>)))</div><div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;        {</div><div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;<span class="preprocessor">            #ifdef PRINT_HTTP</span></div><div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;                Serial.println(<span class="stringliteral">&quot;ERROR: Didn&#39;t find HTTP/1.1&quot;</span>);</div><div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;<span class="preprocessor">            #endif</span></div><div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;            <span class="keywordflow">return</span> ERR_BAD_RESPONSE; <span class="comment">// Couldn&#39;t parse response (didn&#39;t find HTTP/1.1)</span></div><div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;        }</div><div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;        <span class="keywordtype">int</span> status = client-&gt;parseInt();</div><div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;<span class="preprocessor">        #ifdef PRINT_HTTP</span></div><div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;            Serial.print(<span class="stringliteral">&quot;Got Status of &quot;</span>);Serial.println(status);</div><div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;<span class="preprocessor">        #endif</span></div><div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;        <span class="keywordflow">if</span>(status != OK_SUCCESS)</div><div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;        {</div><div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;            <span class="keywordflow">return</span> status;</div><div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;        }</div><div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;</div><div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;        <span class="keywordflow">if</span>(!client-&gt;find(const_cast&lt;char *&gt;(<span class="stringliteral">&quot;\r\n&quot;</span>)))</div><div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;        {</div><div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;<span class="preprocessor">            #ifdef PRINT_HTTP</span></div><div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;                Serial.println(<span class="stringliteral">&quot;ERROR: Didn&#39;t find end of status line&quot;</span>);</div><div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;<span class="preprocessor">            #endif</span></div><div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;            <span class="keywordflow">return</span> ERR_BAD_RESPONSE;</div><div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;        }</div><div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;<span class="preprocessor">        #ifdef PRINT_HTTP</span></div><div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;            Serial.println(<span class="stringliteral">&quot;Found end of status line&quot;</span>);</div><div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;<span class="preprocessor">        #endif</span></div><div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;</div><div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;        <span class="keywordflow">if</span>(!client-&gt;find(const_cast&lt;char *&gt;(<span class="stringliteral">&quot;\n\r\n&quot;</span>)))</div><div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;        {</div><div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;<span class="preprocessor">            #ifdef PRINT_HTTP</span></div><div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;                Serial.println(<span class="stringliteral">&quot;ERROR: Didn&#39;t find end of header&quot;</span>);</div><div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;<span class="preprocessor">            #endif</span></div><div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;            <span class="keywordflow">return</span> ERR_BAD_RESPONSE;</div><div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;        }</div><div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;<span class="preprocessor">        #ifdef PRINT_HTTP</span></div><div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;            Serial.println(<span class="stringliteral">&quot;Found end of header&quot;</span>);</div><div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;<span class="preprocessor">        #endif</span></div><div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;</div><div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;        String tempString = client-&gt;readString();</div><div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;        response = tempString;</div><div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;<span class="preprocessor">        #ifdef PRINT_HTTP</span></div><div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;            Serial.print(<span class="stringliteral">&quot;Response: \&quot;&quot;</span>);Serial.print(response);Serial.println(<span class="stringliteral">&quot;\&quot;&quot;</span>);</div><div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;<span class="preprocessor">        #endif</span></div><div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;        <span class="keywordflow">return</span> status;</div><div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;    };</div><div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;</div><div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;    <span class="keywordtype">int</span> convertFloatToChar(<span class="keywordtype">float</span> value, <span class="keywordtype">char</span> *valueString)</div><div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;    {</div><div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;        <span class="comment">// Supported range is -999999000000 to 999999000000</span></div><div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;        <span class="keywordflow">if</span>(0 == isinf(value) &amp;&amp; (value &gt; 999999000000 || value &lt; -999999000000))</div><div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;        {</div><div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;            <span class="comment">// Out of range</span></div><div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;            <span class="keywordflow">return</span> ERR_OUT_OF_RANGE;</div><div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;        }</div><div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;        <span class="comment">// assume that 5 places right of decimal should be sufficient for most applications</span></div><div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;</div><div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;<span class="preprocessor">        #if defined(ARDUINO_ARCH_SAMD) || defined(ARDUINO_ARCH_SAM)</span></div><div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;          sprintf(valueString, <span class="stringliteral">&quot;%.5f&quot;</span>, value);</div><div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;<span class="preprocessor">        #else</span></div><div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;          dtostrf(value,1,5, valueString);</div><div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;<span class="preprocessor">        #endif</span></div><div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;        <span class="keywordflow">return</span> OK_SUCCESS;</div><div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;    };</div><div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;</div><div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;    <span class="keywordtype">float</span> convertStringToFloat(String value)</div><div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;    {</div><div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;        <span class="comment">// There&#39;s a bug in the AVR function strtod that it doesn&#39;t decode -INF correctly (it maps it to INF)</span></div><div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;        <span class="keywordtype">float</span> result = value.toFloat();</div><div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;        </div><div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;        <span class="keywordflow">if</span>(1 == isinf(result) &amp;&amp; *value.c_str() == <span class="charliteral">&#39;-&#39;</span>)</div><div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;        {</div><div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;            result = (float)-INFINITY;</div><div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;        }</div><div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;        <span class="keywordflow">return</span> result;</div><div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;    };</div><div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;</div><div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;    <span class="keywordtype">void</span> resetWriteFields()</div><div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;    {</div><div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;        <span class="keywordflow">for</span>(<span class="keywordtype">size_t</span> iField = 0; iField &lt; 8; iField++)</div><div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;        {</div><div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;            this-&gt;nextWriteField[iField] = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;        }</div><div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;        this-&gt;nextWriteLatitude = NAN;</div><div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;        this-&gt;nextWriteLongitude = NAN;</div><div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;        this-&gt;nextWriteElevation = NAN;</div><div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;        this-&gt;nextWriteStatus = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;        this-&gt;nextWriteTwitter = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;        this-&gt;nextWriteTweet = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;        this-&gt;nextWriteCreatedAt = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;    };</div><div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;};</div><div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;</div><div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;<span class="keyword">extern</span> <a class="code" href="class_thing_speak_class.html">ThingSpeakClass</a> ThingSpeak;</div><div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;</div><div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;<span class="preprocessor">#endif //ThingSpeak_h</span></div><div class="ttc" id="class_thing_speak_class_html_a2a5333f683802cb455a3713d604abb84"><div class="ttname"><a href="class_thing_speak_class.html#a2a5333f683802cb455a3713d604abb84">ThingSpeakClass::writeRaw</a></div><div class="ttdeci">int writeRaw(unsigned long channelNumber, const char *postMessage, const char *writeAPIKey)</div><div class="ttdoc">Write a raw POST to a ThingSpeak channel. </div><div class="ttdef"><b>Definition:</b> ThingSpeak.h:1168</div></div>
<div class="ttc" id="class_thing_speak_class_html_a66fee419c9f6c9503263dbb139315699"><div class="ttname"><a href="class_thing_speak_class.html#a66fee419c9f6c9503263dbb139315699">ThingSpeakClass::setTwitterTweet</a></div><div class="ttdeci">int setTwitterTweet(const char *twitter, const char *tweet)</div><div class="ttdoc">Set the Twitter account and message to use for an update to be tweeted. To send a message to twitter ...</div><div class="ttdef"><b>Definition:</b> ThingSpeak.h:798</div></div>
<div class="ttc" id="class_thing_speak_class_html_aa1534ea566b7f9fc951a41f8cf41f53b"><div class="ttname"><a href="class_thing_speak_class.html#aa1534ea566b7f9fc951a41f8cf41f53b">ThingSpeakClass::readStringField</a></div><div class="ttdeci">String readStringField(unsigned long channelNumber, unsigned int field, const char *readAPIKey)</div><div class="ttdoc">Read the latest string from a private ThingSpeak channel. </div><div class="ttdef"><b>Definition:</b> ThingSpeak.h:1259</div></div>
<div class="ttc" id="class_thing_speak_class_html_a7ed5914c2f5c7d84672cdaae3547da96"><div class="ttname"><a href="class_thing_speak_class.html#a7ed5914c2f5c7d84672cdaae3547da96">ThingSpeakClass::readStringField</a></div><div class="ttdeci">String readStringField(unsigned long channelNumber, unsigned int field)</div><div class="ttdoc">Read the latest string from a public ThingSpeak channel. </div><div class="ttdef"><b>Definition:</b> ThingSpeak.h:1292</div></div>
<div class="ttc" id="class_thing_speak_class_html_a8dba6e69d9cc12e5c5efe5043df02d81"><div class="ttname"><a href="class_thing_speak_class.html#a8dba6e69d9cc12e5c5efe5043df02d81">ThingSpeakClass::setField</a></div><div class="ttdeci">int setField(unsigned int field, long value)</div><div class="ttdoc">Set the value of a single field that will be part of a multi-field update. To write multiple fields a...</div><div class="ttdef"><b>Definition:</b> ThingSpeak.h:429</div></div>
<div class="ttc" id="class_thing_speak_class_html_acf246240dc6d5dd8d71fcf4e609e2838"><div class="ttname"><a href="class_thing_speak_class.html#acf246240dc6d5dd8d71fcf4e609e2838">ThingSpeakClass::readCreatedAt</a></div><div class="ttdeci">String readCreatedAt(unsigned long channelNumber)</div><div class="ttdoc">Read the created-at timestamp associated with the latest update to a private ThingSpeak channel...</div><div class="ttdef"><b>Definition:</b> ThingSpeak.h:1506</div></div>
<div class="ttc" id="class_thing_speak_class_html_a7c3415bd86e0fa2c335d3b245912fb55"><div class="ttname"><a href="class_thing_speak_class.html#a7c3415bd86e0fa2c335d3b245912fb55">ThingSpeakClass::writeRaw</a></div><div class="ttdeci">int writeRaw(unsigned long channelNumber, String postMessage, const char *writeAPIKey)</div><div class="ttdoc">Write a raw POST to a ThingSpeak channel. </div><div class="ttdef"><b>Definition:</b> ThingSpeak.h:1189</div></div>
<div class="ttc" id="class_thing_speak_class_html_a8bedb31c0f619bed57944aca13b423d7"><div class="ttname"><a href="class_thing_speak_class.html#a8bedb31c0f619bed57944aca13b423d7">ThingSpeakClass::begin</a></div><div class="ttdeci">bool begin(Client &amp;client, IPAddress customIP, unsigned int port)</div><div class="ttdoc">Initializes the ThingSpeak library and network settings using a custom installation of ThingSpeak...</div><div class="ttdef"><b>Definition:</b> ThingSpeak.h:174</div></div>
<div class="ttc" id="class_thing_speak_class_html_a986d1958d5aa6705a53a31f3975f8cae"><div class="ttname"><a href="class_thing_speak_class.html#a986d1958d5aa6705a53a31f3975f8cae">ThingSpeakClass::writeFields</a></div><div class="ttdeci">int writeFields(unsigned long channelNumber, const char *writeAPIKey)</div><div class="ttdoc">Write a multi-field update. Call setField() for each of the fields you want to write, setLatitude() / setLongitude() / setElevation(), and then call writeFields() </div><div class="ttdef"><b>Definition:</b> ThingSpeak.h:1041</div></div>
<div class="ttc" id="class_thing_speak_class_html_a72eea45043ab45051c02593983d29546"><div class="ttname"><a href="class_thing_speak_class.html#a72eea45043ab45051c02593983d29546">ThingSpeakClass::setField</a></div><div class="ttdeci">int setField(unsigned int field, int value)</div><div class="ttdoc">Set the value of a single field that will be part of a multi-field update. To write multiple fields a...</div><div class="ttdef"><b>Definition:</b> ThingSpeak.h:388</div></div>
<div class="ttc" id="class_thing_speak_class_html_ad24e983546aa401c56237b3e13900e30"><div class="ttname"><a href="class_thing_speak_class.html#ad24e983546aa401c56237b3e13900e30">ThingSpeakClass::setTwitterTweet</a></div><div class="ttdeci">int setTwitterTweet(const char *twitter, String tweet)</div><div class="ttdoc">Set the Twitter account and message to use for an update to be tweeted. To send a message to twitter ...</div><div class="ttdef"><b>Definition:</b> ThingSpeak.h:872</div></div>
<div class="ttc" id="class_thing_speak_class_html_a07746ddd53be9060eb0eb77dbe57aac9"><div class="ttname"><a href="class_thing_speak_class.html#a07746ddd53be9060eb0eb77dbe57aac9">ThingSpeakClass::setTwitterTweet</a></div><div class="ttdeci">int setTwitterTweet(String twitter, const char *tweet)</div><div class="ttdoc">Set the Twitter account and message to use for an update to be tweeted. To send a message to twitter ...</div><div class="ttdef"><b>Definition:</b> ThingSpeak.h:835</div></div>
<div class="ttc" id="class_thing_speak_class_html_ad790afb71eb19b723c6fc2f17f8f4400"><div class="ttname"><a href="class_thing_speak_class.html#ad790afb71eb19b723c6fc2f17f8f4400">ThingSpeakClass::setLatitude</a></div><div class="ttdeci">int setLatitude(float latitude)</div><div class="ttdoc">Set the latitude of a multi-field update. To record latitude, longitude and elevation of a write...</div><div class="ttdef"><b>Definition:</b> ThingSpeak.h:590</div></div>
<div class="ttc" id="class_thing_speak_class_html_a518a485a4cba6cf6a61b5bbd431e74d8"><div class="ttname"><a href="class_thing_speak_class.html#a518a485a4cba6cf6a61b5bbd431e74d8">ThingSpeakClass::readCreatedAt</a></div><div class="ttdeci">String readCreatedAt(unsigned long channelNumber, const char *readAPIKey)</div><div class="ttdoc">Read the created-at timestamp associated with the latest update to a private ThingSpeak channel...</div><div class="ttdef"><b>Definition:</b> ThingSpeak.h:1482</div></div>
<div class="ttc" id="class_thing_speak_class_html_a001b275e7a20cb6f8005593cae5544fd"><div class="ttname"><a href="class_thing_speak_class.html#a001b275e7a20cb6f8005593cae5544fd">ThingSpeakClass::setStatus</a></div><div class="ttdeci">int setStatus(String status)</div><div class="ttdoc">Set the status of a multi-field update. To record a status message on a write, call setStatus() then ...</div><div class="ttdef"><b>Definition:</b> ThingSpeak.h:755</div></div>
<div class="ttc" id="class_thing_speak_class_html_a7375bc37b4cbf132751439f5fcafd1ba"><div class="ttname"><a href="class_thing_speak_class.html#a7375bc37b4cbf132751439f5fcafd1ba">ThingSpeakClass::begin</a></div><div class="ttdeci">bool begin(Client &amp;client, const char *customHostName, unsigned int port)</div><div class="ttdoc">Initializes the ThingSpeak library and network settings using a custom installation of ThingSpeak...</div><div class="ttdef"><b>Definition:</b> ThingSpeak.h:141</div></div>
<div class="ttc" id="class_thing_speak_class_html_a549941b4b0000a2ba89de94f038ed577"><div class="ttname"><a href="class_thing_speak_class.html#a549941b4b0000a2ba89de94f038ed577">ThingSpeakClass::getLastReadStatus</a></div><div class="ttdeci">int getLastReadStatus()</div><div class="ttdoc">Get the status of the previous read. </div><div class="ttdef"><b>Definition:</b> ThingSpeak.h:1638</div></div>
<div class="ttc" id="class_thing_speak_class_html_a24fa89e20ef8b3314ad8270c1f81dd2d"><div class="ttname"><a href="class_thing_speak_class.html#a24fa89e20ef8b3314ad8270c1f81dd2d">ThingSpeakClass::writeField</a></div><div class="ttdeci">int writeField(unsigned long channelNumber, unsigned int field, int value, const char *writeAPIKey)</div><div class="ttdoc">Write an integer value to a single field in a ThingSpeak channel. </div><div class="ttdef"><b>Definition:</b> ThingSpeak.h:233</div></div>
<div class="ttc" id="class_thing_speak_class_html"><div class="ttname"><a href="class_thing_speak_class.html">ThingSpeakClass</a></div><div class="ttdoc">Enables an Arduino, ESP8266, ESP32 or other compatible hardware to write or read data to or from Thin...</div><div class="ttdef"><b>Definition:</b> ThingSpeak.h:111</div></div>
<div class="ttc" id="class_thing_speak_class_html_aff3c2e94e85da016fb8c82432e015d1b"><div class="ttname"><a href="class_thing_speak_class.html#aff3c2e94e85da016fb8c82432e015d1b">ThingSpeakClass::readLongField</a></div><div class="ttdeci">long readLongField(unsigned long channelNumber, unsigned int field, const char *readAPIKey)</div><div class="ttdoc">Read the latest long from a private ThingSpeak channel. </div><div class="ttdef"><b>Definition:</b> ThingSpeak.h:1356</div></div>
<div class="ttc" id="class_thing_speak_class_html_a91a8c326cb6a0b6fff38046cc90246ad"><div class="ttname"><a href="class_thing_speak_class.html#a91a8c326cb6a0b6fff38046cc90246ad">ThingSpeakClass::writeField</a></div><div class="ttdeci">int writeField(unsigned long channelNumber, unsigned int field, String value, const char *writeAPIKey)</div><div class="ttdoc">Write a String to a single field in a ThingSpeak channel. </div><div class="ttdef"><b>Definition:</b> ThingSpeak.h:342</div></div>
<div class="ttc" id="class_thing_speak_class_html_a4dbd25a21942a5d866ae652942aa6dcc"><div class="ttname"><a href="class_thing_speak_class.html#a4dbd25a21942a5d866ae652942aa6dcc">ThingSpeakClass::setStatus</a></div><div class="ttdeci">int setStatus(const char *status)</div><div class="ttdoc">Set the status of a multi-field update. To record a status message on a write, call setStatus() then ...</div><div class="ttdef"><b>Definition:</b> ThingSpeak.h:718</div></div>
<div class="ttc" id="class_thing_speak_class_html_a46b7090f54ed4381ff825118d50db1fd"><div class="ttname"><a href="class_thing_speak_class.html#a46b7090f54ed4381ff825118d50db1fd">ThingSpeakClass::setField</a></div><div class="ttdeci">int setField(unsigned int field, const char *value)</div><div class="ttdoc">Set the value of a single field that will be part of a multi-field update. To write multiple fields a...</div><div class="ttdef"><b>Definition:</b> ThingSpeak.h:508</div></div>
<div class="ttc" id="class_thing_speak_class_html_a578758c62a821dc9197ec6a3fdc0f7bc"><div class="ttname"><a href="class_thing_speak_class.html#a578758c62a821dc9197ec6a3fdc0f7bc">ThingSpeakClass::readRaw</a></div><div class="ttdeci">String readRaw(unsigned long channelNumber, String URLSuffix)</div><div class="ttdoc">Read a raw response from a public ThingSpeak channel. </div><div class="ttdef"><b>Definition:</b> ThingSpeak.h:1526</div></div>
<div class="ttc" id="class_thing_speak_class_html_aa1660fbf6444ca06dc744a244905f6d9"><div class="ttname"><a href="class_thing_speak_class.html#aa1660fbf6444ca06dc744a244905f6d9">ThingSpeakClass::readLongField</a></div><div class="ttdeci">long readLongField(unsigned long channelNumber, unsigned int field)</div><div class="ttdoc">Read the latest long from a public ThingSpeak channel. </div><div class="ttdef"><b>Definition:</b> ThingSpeak.h:1377</div></div>
<div class="ttc" id="class_thing_speak_class_html_af41b9c173128a898ba83220f52fb93ba"><div class="ttname"><a href="class_thing_speak_class.html#af41b9c173128a898ba83220f52fb93ba">ThingSpeakClass::writeField</a></div><div class="ttdeci">int writeField(unsigned long channelNumber, unsigned int field, float value, const char *writeAPIKey)</div><div class="ttdoc">Write a floating point value to a single field in a ThingSpeak channel. </div><div class="ttdef"><b>Definition:</b> ThingSpeak.h:280</div></div>
<div class="ttc" id="class_thing_speak_class_html_aac2f328fe502083168a324c371174c0e"><div class="ttname"><a href="class_thing_speak_class.html#aac2f328fe502083168a324c371174c0e">ThingSpeakClass::setCreatedAt</a></div><div class="ttdeci">int setCreatedAt(const char *createdAt)</div><div class="ttdoc">Set the created-at date of a multi-field update. To record created-at of a write, call setField() for...</div><div class="ttdef"><b>Definition:</b> ThingSpeak.h:954</div></div>
<div class="ttc" id="class_thing_speak_class_html_a1241ae5b3e08b1751495f2e45dabcc46"><div class="ttname"><a href="class_thing_speak_class.html#a1241ae5b3e08b1751495f2e45dabcc46">ThingSpeakClass::readIntField</a></div><div class="ttdeci">int readIntField(unsigned long channelNumber, unsigned int field, const char *readAPIKey)</div><div class="ttdoc">Read the latest int from a private ThingSpeak channel. </div><div class="ttdef"><b>Definition:</b> ThingSpeak.h:1399</div></div>
<div class="ttc" id="class_thing_speak_class_html_a5201062087f349e50a3dda7e48312850"><div class="ttname"><a href="class_thing_speak_class.html#a5201062087f349e50a3dda7e48312850">ThingSpeakClass::setField</a></div><div class="ttdeci">int setField(unsigned int field, String value)</div><div class="ttdoc">Set the value of a single field that will be part of a multi-field update. To write multiple fields a...</div><div class="ttdef"><b>Definition:</b> ThingSpeak.h:544</div></div>
<div class="ttc" id="class_thing_speak_class_html_a21229925854cf823521fa6bad4b56e6f"><div class="ttname"><a href="class_thing_speak_class.html#a21229925854cf823521fa6bad4b56e6f">ThingSpeakClass::setCreatedAt</a></div><div class="ttdeci">int setCreatedAt(String createdAt)</div><div class="ttdoc">Set the created-at date of a multi-field update. To record created-at of a write, call setField() for...</div><div class="ttdef"><b>Definition:</b> ThingSpeak.h:991</div></div>
<div class="ttc" id="class_thing_speak_class_html_a8cb07c25c717a5acc5d8de60b19c0c3e"><div class="ttname"><a href="class_thing_speak_class.html#a8cb07c25c717a5acc5d8de60b19c0c3e">ThingSpeakClass::setLongitude</a></div><div class="ttdeci">int setLongitude(float longitude)</div><div class="ttdoc">Set the longitude of a multi-field update. To record latitude, longitude and elevation of a write...</div><div class="ttdef"><b>Definition:</b> ThingSpeak.h:633</div></div>
<div class="ttc" id="class_thing_speak_class_html_a02cd79a65f1229711801fac5aec158b4"><div class="ttname"><a href="class_thing_speak_class.html#a02cd79a65f1229711801fac5aec158b4">ThingSpeakClass::readFloatField</a></div><div class="ttdeci">float readFloatField(unsigned long channelNumber, unsigned int field, const char *readAPIKey)</div><div class="ttdoc">Read the latest float from a private ThingSpeak channel. </div><div class="ttdef"><b>Definition:</b> ThingSpeak.h:1314</div></div>
<div class="ttc" id="class_thing_speak_class_html_a8496a04ee3418f5c163f51d19b053f7a"><div class="ttname"><a href="class_thing_speak_class.html#a8496a04ee3418f5c163f51d19b053f7a">ThingSpeakClass::setTwitterTweet</a></div><div class="ttdeci">int setTwitterTweet(String twitter, String tweet)</div><div class="ttdoc">Set the Twitter account and message to use for an update to be tweeted. To send a message to twitter ...</div><div class="ttdef"><b>Definition:</b> ThingSpeak.h:909</div></div>
<div class="ttc" id="class_thing_speak_class_html_ac658ac00936801802c7c4338aaa41de7"><div class="ttname"><a href="class_thing_speak_class.html#ac658ac00936801802c7c4338aaa41de7">ThingSpeakClass::readStatus</a></div><div class="ttdeci">String readStatus(unsigned long channelNumber, const char *readAPIKey)</div><div class="ttdoc">Read the latest status from a private ThingSpeak channel. </div><div class="ttdef"><b>Definition:</b> ThingSpeak.h:1439</div></div>
<div class="ttc" id="class_thing_speak_class_html_a92475d44f08bd87c798cff2e60491332"><div class="ttname"><a href="class_thing_speak_class.html#a92475d44f08bd87c798cff2e60491332">ThingSpeakClass::begin</a></div><div class="ttdeci">bool begin(Client &amp;client)</div><div class="ttdoc">Initializes the ThingSpeak library and network settings using the ThingSpeak.com service. </div><div class="ttdef"><b>Definition:</b> ThingSpeak.h:205</div></div>
<div class="ttc" id="class_thing_speak_class_html_ac65345864040b8f067a6d0e73a8dccfa"><div class="ttname"><a href="class_thing_speak_class.html#ac65345864040b8f067a6d0e73a8dccfa">ThingSpeakClass::readFloatField</a></div><div class="ttdeci">float readFloatField(unsigned long channelNumber, unsigned int field)</div><div class="ttdoc">Read the latest float from a public ThingSpeak channel. </div><div class="ttdef"><b>Definition:</b> ThingSpeak.h:1335</div></div>
<div class="ttc" id="class_thing_speak_class_html_a2e7a26e6bf7b65c0e8e53302787044e2"><div class="ttname"><a href="class_thing_speak_class.html#a2e7a26e6bf7b65c0e8e53302787044e2">ThingSpeakClass::writeField</a></div><div class="ttdeci">int writeField(unsigned long channelNumber, unsigned int field, const char *value, const char *writeAPIKey)</div><div class="ttdoc">Write a string to a single field in a ThingSpeak channel. </div><div class="ttdef"><b>Definition:</b> ThingSpeak.h:313</div></div>
<div class="ttc" id="class_thing_speak_class_html_adb2ba704f38e591a6a391f7aa1850818"><div class="ttname"><a href="class_thing_speak_class.html#adb2ba704f38e591a6a391f7aa1850818">ThingSpeakClass::readIntField</a></div><div class="ttdeci">int readIntField(unsigned long channelNumber, unsigned int field)</div><div class="ttdoc">Read the latest int from a public ThingSpeak channel. </div><div class="ttdef"><b>Definition:</b> ThingSpeak.h:1420</div></div>
<div class="ttc" id="class_thing_speak_class_html_a5d3dfc59f211651ec7b1260e29921f45"><div class="ttname"><a href="class_thing_speak_class.html#a5d3dfc59f211651ec7b1260e29921f45">ThingSpeakClass::setField</a></div><div class="ttdeci">int setField(unsigned int field, float value)</div><div class="ttdoc">Set the value of a single field that will be part of a multi-field update. To write multiple fields a...</div><div class="ttdef"><b>Definition:</b> ThingSpeak.h:468</div></div>
<div class="ttc" id="class_thing_speak_class_html_abffced4cce37008c03c32d3feb38861d"><div class="ttname"><a href="class_thing_speak_class.html#abffced4cce37008c03c32d3feb38861d">ThingSpeakClass::readRaw</a></div><div class="ttdeci">String readRaw(unsigned long channelNumber, String URLSuffix, const char *readAPIKey)</div><div class="ttdoc">Read a raw response from a private ThingSpeak channel. </div><div class="ttdef"><b>Definition:</b> ThingSpeak.h:1547</div></div>
<div class="ttc" id="class_thing_speak_class_html_afc283ce71678bc9e5d97b043e19c107a"><div class="ttname"><a href="class_thing_speak_class.html#afc283ce71678bc9e5d97b043e19c107a">ThingSpeakClass::readStatus</a></div><div class="ttdeci">String readStatus(unsigned long channelNumber)</div><div class="ttdoc">Read the latest status from a public ThingSpeak channel. </div><div class="ttdef"><b>Definition:</b> ThingSpeak.h:1463</div></div>
<div class="ttc" id="class_thing_speak_class_html_a1e9cc3c21e0a7360310aba628ef586c9"><div class="ttname"><a href="class_thing_speak_class.html#a1e9cc3c21e0a7360310aba628ef586c9">ThingSpeakClass::setElevation</a></div><div class="ttdeci">int setElevation(float elevation)</div><div class="ttdoc">Set the elevation of a multi-field update. To record latitude, longitude and elevation of a write...</div><div class="ttdef"><b>Definition:</b> ThingSpeak.h:676</div></div>
<div class="ttc" id="class_thing_speak_class_html_a3cc1f2fa986087cbc233a3f30d1dd957"><div class="ttname"><a href="class_thing_speak_class.html#a3cc1f2fa986087cbc233a3f30d1dd957">ThingSpeakClass::writeField</a></div><div class="ttdeci">int writeField(unsigned long channelNumber, unsigned int field, long value, const char *writeAPIKey)</div><div class="ttdoc">Write a long value to a single field in a ThingSpeak channel. </div><div class="ttdef"><b>Definition:</b> ThingSpeak.h:256</div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!--   ThingSpeak(TM) Communication Library For Arduino, ESP8266 and ESP32
  ThingSpeak ( https://www.thingspeak.com ) is an analytic IoT platform service that allows you to aggregate, visualize and 
  analyze live data streams in the cloud.
  Copyright 2017, The MathWorks, Inc.
  See the accompaning licence file for licensing information.-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
     <table border=0 width='100%'><tr>
        <td align="left" width='50%'>
          See the accompaning licence file for licensing information
        </td>
        <td align="right" width='50%'>
          Copyright &copy; 2017 <a target=_top href=http://www.mathworks.com>The MathWorks, Inc.</a><br>
        </td>
      </tr></table>
</small></address>
</body>
</html>
